<html>
<head>
  <title>Albumtross - Testing iTunes API with lastFm data</title>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script> 
  <script src='/nowjs/now.js'></script>
  <script>
    $(document).ready(function() {
      $('#submit').click(function() {
        now.contactLastFM($('#username').val());
        $('#username').val('');
      });
    });
    now.showTrack = function (error, lastfmTrack, iTrack) {
      if (error) {
        console.log('track could not be found');
      } else {
        console.log('     iTrack: ' + iTrack.name + ' by artist ' + iTrack.artist + ' id : ' + iTrack.id);
        console.log('lastfmTrack: ' + lastfmTrack.name + ' by artist ' + lastfmTrack.artist.name + ' mbid : ' + lastfmTrack.mbid);
        console.log('---------------------');
        // var trackInfo = '<div id="' + iTrack.id + '">' + iTrack.name + '</div>';
        // $('#trophyCase').html(trackInfo);
        //var starter = '<div id="' + iTrack.id + '">';
        var starter = '<div id="tracks">';
        console.log(starter);
        var desc = iTrack.name;
        console.log(desc);
        var imgUrl = iTrack.artworkUrl60;
        console.log(imgUrl);
        var imageBoo = '<img src="' + imgUrl + '">';
        console.log(imageBoo);
        console.log('11111111111');
        var content = imageBoo + ' ' + desc;
        console.log(content);
        console.log('22222222222');
        var closer = '</div>';
        console.log(closer);
        var trackInfo = starter + content + closer;
        console.log(trackInfo);
        //$('#trophyCase').before(trackInfo).slideDown(300);
        $('#tracks').before(trackInfo).slideDown(300);
      }
    };
    now.showArtist = function (error, iArtist) {
      if (error) {
        console.log('Artist could not be found');
      } else {
        console.log('     iArtist: ' + iArtist.artistName);
        console.log('---------------------');
      }
    };
  </script>
</head>
<body>
  <center>
    <p><h1>Albumtross.be</h1></p>
    <img src='img/TheAlbumtross.png'>
    <p>NodeJS test site for @garrettwilkin.</p>
  </center>
  <p><h3>LastFM loved tracks as a test set for the iTunes API node library</h3>
    <h5>@ <a href='https://github.com/garrettwilkin/iTunes'>https://github.com/garrettwilkin/iTunes</a>.</h5>
    <form>
      Lasfm Username: <input type='text' name='username' id='username' value='garrettwilkin'/><input type='button' value='Go' id='submit'/>
    </form>
    To Do:
    <ul>
    <li>Add display of DIVs for information retrieved from meta data APIs using jQuery.</li>
    <li>Add storage of loved tracks and iTunes album information.</li>
    </ul>
    Done!
    <ul>
    <li>Establish form for entry of LastFM username</li>
    <li>Use entered username to contact last to retrieve the user\'s loved tracks.</li>
    <li>For each loved track, look up the corresponding iTunes album.</li>
    <li>Add storage of loved tracks and iTunes album information.</li>
    </ul>
  </p>
  <p>Let the testing begin...</p>
  <div name='tracks' id='tracks'>
    tracks
  </div>
  <div name='trophyCase' id='trophyCase'>
    The Trophy Case displays all our results:
  </div>
  <p></p>
</body>
</html>
